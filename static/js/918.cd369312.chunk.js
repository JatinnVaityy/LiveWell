"use strict";(self.webpackChunklivewell=self.webpackChunklivewell||[]).push([[918],{8918:(t,e,l)=>{l.r(e),l.d(e,{default:()=>o});var n=l(5043),a=l(579);const o=()=>{const[t,e]=(0,n.useState)({lat:19.044992,lng:72.889008}),[l,o]=(0,n.useState)(null);return(0,n.useEffect)((()=>{const t=async()=>{console.log("Fetching GPS data...");try{const t=await fetch("http://192.168.186.32:5000/get_location_data");if(!t.ok)throw new Error("Failed to fetch location data");const l=await t.json();console.log("Received Data:",l),void 0!==l.latitude&&void 0!==l.longitude?(console.log("Updating position to:",{lat:l.latitude,lng:l.longitude}),e({lat:l.latitude,lng:l.longitude}),o(null)):(console.warn("Invalid GPS data received:",l),o("Invalid GPS data received, using default location"))}catch(t){console.error("Error fetching GPS data:",t),o("Error fetching GPS data, using default location")}};t();const l=setInterval(t,1e4);return()=>{console.log("Clearing fetch interval"),clearInterval(l)}}),[]),(0,a.jsxs)("div",{style:{textAlign:"center",marginTop:"20px"},children:[(0,a.jsx)("h2",{children:"Live GPS Location"}),(0,a.jsx)("iframe",{title:"gps-map",width:"100%",height:"500",src:`https://www.openstreetmap.org/export/embed.html?bbox=${t.lng-.01},${t.lat-.01},${t.lng+.01},${t.lat+.01}&layer=mapnik&marker=${t.lat},${t.lng}`,style:{border:"1px solid black"}}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Latitude:"})," ",t.lat]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Longitude:"})," ",t.lng]}),l&&(0,a.jsx)("p",{style:{color:"red"},children:l})]})}}}]);
//# sourceMappingURL=918.cd369312.chunk.js.map