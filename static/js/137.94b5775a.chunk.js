"use strict";(self.webpackChunklivewell=self.webpackChunklivewell||[]).push([[137],{8137:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var a=r(2327),l=r(2345),s=r(5043),o=r(6058),c=r(461),d=r(9157),n=r(8353),i=r(5299),h=r(7426),x=r(579);c.t1.register(c.PP,c.kc,c.FN,c.No,c.hE,c.m_,c.s$);const b=()=>{const[e,t]=(0,s.useState)({labels:[],datasets:[{label:"Heart Rate (bpm)",data:[],borderColor:"#FF6B6B",backgroundColor:"rgba(255, 107, 107, 0.2)",borderWidth:2},{label:"Temperature (\xb0C)",data:[],borderColor:"#1890FF",backgroundColor:"rgba(24, 144, 255, 0.2)",borderWidth:2},{label:"SpO2 (%)",data:[],borderColor:"#28C76F",backgroundColor:"rgba(40, 199, 111, 0.2)",borderWidth:2}]}),[r,a]=(0,s.useState)(!0),l=(0,s.useRef)(null);(0,s.useEffect)((()=>{const e=async()=>{try{const e=await fetch("http://127.0.0.1:5000/health-data"),r=await e.json();console.log("Fetched Health Data:",r),t((e=>({labels:[...e.labels,(new Date).toLocaleTimeString()].slice(-10),datasets:[{label:"Heart Rate (bpm)",data:[...e.datasets[0].data,r.heart_rate].slice(-10),borderColor:"#FF6B6B",backgroundColor:"rgba(255, 107, 107, 0.2)",borderWidth:2},{label:"Temperature (\xb0C)",data:[...e.datasets[1].data,r.temperature].slice(-10),borderColor:"#1890FF",backgroundColor:"rgba(24, 144, 255, 0.2)",borderWidth:2},{label:"SpO2 (%)",data:[...e.datasets[2].data,r.spo2].slice(-10),borderColor:"#28C76F",backgroundColor:"rgba(40, 199, 111, 0.2)",borderWidth:2}]}))),a(!1)}catch(e){console.error("Error fetching health data:",e),a(!1)}};return e(),l.current=setInterval(e,5e3),()=>{l.current&&clearInterval(l.current)}}),[]);return(0,x.jsx)(d.A,{className:"border-0 shadow p-4 rounded",style:{background:"#F4F6F9",borderColor:"#1890FF",height:"500px"},children:(0,x.jsxs)(n.A,{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,x.jsx)(i.A,{tag:"h4",className:"text-center mb-4",style:{color:"#1890FF",fontWeight:"bold"},children:"Live Health Monitoring"}),r?(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)(h.A,{color:"primary"}),(0,x.jsx)("p",{className:"mt-2",style:{color:"#2C3E50"},children:"Fetching latest health data..."})]}):(0,x.jsxs)("div",{style:{flexGrow:1,height:"450px"},children:[" ",(0,x.jsx)(o.N1,{data:e,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"}},scales:{x:{title:{display:!0,text:"Time",color:"#2C3E50"}},y:{title:{display:!0,text:"Values",color:"#2C3E50"}}},elements:{line:{tension:.3},point:{radius:3}}}})]})]})})};var m=r(6259),u=r(184),p=r(2639);const f=()=>{const[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[l,o]=(0,s.useState)(!1),[c,b]=(0,s.useState)(!1),f=async()=>{try{const e=await fetch("http://127.0.0.1:5000/health-data"),r=await e.json();t([{name:"Heart Rate",value:`${r.heart_rate} bpm`,icon:(0,x.jsx)(u.szJ,{size:28,color:"#ff4d4f"})},{name:"Body Temperature",value:`${r.temperature}\xb0C`,icon:(0,x.jsx)(u.glb,{size:28,color:"#1890ff"})},{name:"SpO2",value:`${r.spo2}%`,icon:(0,x.jsx)(p.kz9,{size:28,color:"#52c41a"})}]),a(!1)}catch(e){console.error("Error fetching health data:",e),a(!1)}};(0,s.useEffect)((()=>{f();const e=setInterval(f,5e3);return()=>clearInterval(e)}),[]);return(0,x.jsx)(d.A,{className:"border-0 shadow p-4 rounded",style:{background:"#f0f8ff",borderColor:"#1890ff"},children:(0,x.jsxs)(n.A,{children:[(0,x.jsx)(i.A,{tag:"h4",className:"text-center mb-4",style:{color:"#1890ff",fontWeight:"bold"},children:"Health Insights"}),r?(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)(h.A,{color:"primary"}),(0,x.jsx)("p",{className:"mt-2",style:{color:"#595959"},children:"Fetching latest health data..."})]}):(0,x.jsx)("div",{children:e.map(((e,t)=>(0,x.jsxs)(d.A,{className:"d-flex flex-row align-items-center shadow-sm mb-3 p-3 border-0",style:{background:"#ffffff",borderRadius:"12px"},children:[(0,x.jsx)("div",{className:"me-3",children:e.icon}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h6",{style:{color:"#595959",fontWeight:"bold"},children:e.name}),(0,x.jsx)("p",{style:{fontSize:"16px",color:"#333",margin:0},children:e.value})]})]},t)))}),(0,x.jsx)("div",{className:"text-center mt-4",children:(0,x.jsx)(m.A,{color:"primary",onClick:()=>{o(!0),b(!1),setTimeout((()=>{o(!1),b(!0)}),1e4)},disabled:l,style:{background:"#1890ff",borderColor:"#1890ff"},children:l?(0,x.jsx)(h.A,{size:"sm"}):"Generate Insights"})}),l&&(0,x.jsxs)("div",{className:"text-center mt-3",children:[(0,x.jsx)(h.A,{color:"primary"}),(0,x.jsx)("p",{className:"mt-2",style:{color:"#595959"},children:"Processing insights..."})]}),c&&(0,x.jsx)("div",{className:"text-center mt-4",children:(0,x.jsx)(m.A,{color:"success",onClick:()=>{const e=document.createElement("a");e.href="/health_report.pdf",e.download="health_report.pdf",document.body.appendChild(e),e.click(),document.body.removeChild(e)},style:{background:"#52c41a",borderColor:"#52c41a"},children:"Download Report"})})]})})},g=()=>(0,x.jsx)("div",{children:(0,x.jsxs)(a.A,{children:[(0,x.jsx)(l.A,{sm:"6",lg:"6",xl:"7",xxl:"8",children:(0,x.jsx)(b,{})}),(0,x.jsx)(l.A,{sm:"6",lg:"6",xl:"5",xxl:"4",children:(0,x.jsx)(f,{})})]})})}}]);
//# sourceMappingURL=137.94b5775a.chunk.js.map