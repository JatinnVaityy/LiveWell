{"version":3,"file":"static/js/179.20c97f06.chunk.js","mappings":"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","sources":["views/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./PatientForm.css\";\r\n\r\nconst PatientForm = () => {\r\n  const [formData, setFormData] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    dob: \"\",\r\n    gender: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    bloodType: \"\",\r\n    height: \"\",\r\n    weight: \"\",\r\n    allergies: \"\",\r\n    medications: \"\",\r\n    chronicConditions: \"\",\r\n    emergencyContactName: \"\",\r\n    emergencyRelationship: \"\",\r\n    emergencyPhone: \"\",\r\n    preferredHospital: \"\",\r\n  });\r\n\r\n  const [selectedSection, setSelectedSection] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [submitted, setSubmitted] = useState(false); // Tracks whether data was submitted\r\n\r\n  const sections = [\"patientInfo\", \"healthInfo\", \"emergencyContact\"];\r\n\r\n  useEffect(() => {\r\n    const savedData = localStorage.getItem(\"patientReport\");\r\n    if (savedData) {\r\n      setFormData(JSON.parse(savedData));\r\n      setSubmitted(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const requiredFields = [\"firstName\", \"lastName\", \"dob\", \"gender\", \"phone\", \"email\", \"emergencyContactName\", \"emergencyPhone\"];\r\n    for (let field of requiredFields) {\r\n      if (!formData[field]) {\r\n        alert(`Please fill in the required field: ${field}`);\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateForm()) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(\"http://192.168.0.107:5000/submit\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (!response.ok) {\r\n        throw new Error(data.error || \"Failed to save data\");\r\n      }\r\n\r\n      // Save submitted data in localStorage to persist across logins\r\n      localStorage.setItem(\"patientReport\", JSON.stringify(formData));\r\n      setSubmitted(true);\r\n      alert(\"Patient data submitted successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error sending data:\", error);\r\n      alert(\"Error submitting data.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setSubmitted(false); // Allows editing\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"patientReport\"); // Clear saved data on logout\r\n    setSubmitted(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Patient Profile</h2>\r\n\r\n      {submitted ? (\r\n        // **Report Format**\r\n        <div className=\"summary\">\r\n          <h3>Patient Summary</h3>\r\n          {Object.entries(formData).map(([key, value]) => (\r\n            <p key={key}>\r\n              <strong>{key.replace(/([A-Z])/g, \" $1\")}: </strong> {value || \"N/A\"}\r\n            </p>\r\n          ))}\r\n          <button onClick={handleEdit}>Edit Information</button>\r\n          <button onClick={handleLogout}>Logout</button>\r\n        </div>\r\n      ) : (\r\n        // **Form with Input Fields**\r\n        <form onSubmit={handleSubmit}>\r\n          {selectedSection === 0 && (\r\n            <div className=\"form-section\">\r\n              <h3>Patient Info</h3>\r\n              <input type=\"text\" name=\"firstName\" value={formData.firstName} onChange={handleChange} placeholder=\"First Name\" required />\r\n              <input type=\"text\" name=\"lastName\" value={formData.lastName} onChange={handleChange} placeholder=\"Last Name\" required />\r\n              <input type=\"date\" name=\"dob\" value={formData.dob} onChange={handleChange} required />\r\n              <select name=\"gender\" value={formData.gender} onChange={handleChange} required>\r\n                <option value=\"\">Select Gender</option>\r\n                <option value=\"Male\">Male</option>\r\n                <option value=\"Female\">Female</option>\r\n              </select>\r\n              <input type=\"text\" name=\"phone\" value={formData.phone} onChange={handleChange} placeholder=\"Phone Number\" required />\r\n              <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} placeholder=\"Email\" required />\r\n            </div>\r\n          )}\r\n\r\n          {selectedSection === 1 && (\r\n            <div className=\"form-section\">\r\n              <h3>Health Info</h3>\r\n              <input type=\"text\" name=\"bloodType\" value={formData.bloodType} onChange={handleChange} placeholder=\"Blood Type\" />\r\n              <input type=\"number\" name=\"height\" value={formData.height} onChange={handleChange} placeholder=\"Height (cm)\" />\r\n              <input type=\"number\" name=\"weight\" value={formData.weight} onChange={handleChange} placeholder=\"Weight (kg)\" />\r\n              <textarea name=\"allergies\" value={formData.allergies} onChange={handleChange} placeholder=\"List any allergies\"></textarea>\r\n              <textarea name=\"medications\" value={formData.medications} onChange={handleChange} placeholder=\"Current Medications\"></textarea>\r\n              <textarea name=\"chronicConditions\" value={formData.chronicConditions} onChange={handleChange} placeholder=\"Chronic Conditions\"></textarea>\r\n            </div>\r\n          )}\r\n\r\n          {selectedSection === 2 && (\r\n            <div className=\"form-section\">\r\n              <h3>Emergency Contact</h3>\r\n              <input type=\"text\" name=\"emergencyContactName\" value={formData.emergencyContactName} onChange={handleChange} placeholder=\"Contact Name\" required />\r\n              <input type=\"text\" name=\"emergencyRelationship\" value={formData.emergencyRelationship} onChange={handleChange} placeholder=\"Relationship\" />\r\n              <input type=\"text\" name=\"emergencyPhone\" value={formData.emergencyPhone} onChange={handleChange} placeholder=\"Emergency Phone\" required />\r\n              <input type=\"text\" name=\"preferredHospital\" value={formData.preferredHospital} onChange={handleChange} placeholder=\"Preferred Hospital\" />\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"button-group\">\r\n            {selectedSection > 0 && (\r\n              <button type=\"button\" className=\"prev-btn\" onClick={() => setSelectedSection(selectedSection - 1)}>\r\n                Previous\r\n              </button>\r\n            )}\r\n            {selectedSection < sections.length - 1 ? (\r\n              <button type=\"button\" className=\"next-btn\" onClick={() => setSelectedSection(selectedSection + 1)}>\r\n                Next\r\n              </button>\r\n            ) : (\r\n              <button type=\"submit\" disabled={loading}>\r\n                {loading ? \"Submitting...\" : \"Submit\"}\r\n              </button>\r\n            )}\r\n          </div>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientForm;\r\n"],"names":["PatientForm","formData","setFormData","useState","firstName","lastName","dob","gender","phone","email","bloodType","height","weight","allergies","medications","chronicConditions","emergencyContactName","emergencyRelationship","emergencyPhone","preferredHospital","selectedSection","setSelectedSection","loading","setLoading","submitted","setSubmitted","useEffect","savedData","localStorage","getItem","JSON","parse","handleChange","e","target","name","value","_jsxs","className","children","_jsx","Object","entries","map","_ref","key","replace","onClick","handleEdit","handleLogout","removeItem","onSubmit","async","preventDefault","validateForm","requiredFields","field","alert","response","fetch","method","headers","body","stringify","data","json","ok","Error","error","setItem","console","type","onChange","placeholder","required","sections","disabled"],"sourceRoot":""}