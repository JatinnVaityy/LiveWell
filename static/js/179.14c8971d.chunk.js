"use strict";(self.webpackChunklivewell=self.webpackChunklivewell||[]).push([[179],{4179:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(5043),r=n(579);const i=()=>{const[e,t]=(0,a.useState)({firstName:"",lastName:"",dob:"",gender:"",phone:"",email:"",bloodType:"",height:"",weight:"",allergies:"",medications:"",chronicConditions:"",emergencyContactName:"",emergencyRelationship:"",emergencyPhone:"",preferredHospital:""}),[n,i]=(0,a.useState)(0),[l,o]=(0,a.useState)(!1),[s,c]=(0,a.useState)(!1),h=["Patient Information","Health Information","Emergency Contact"];(0,a.useEffect)((()=>{const e=localStorage.getItem("patientReport");e&&(t(JSON.parse(e)),c(!0))}),[]);const d=n=>{t({...e,[n.target.name]:n.target.value})};return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h2",{children:"Patient Profile"}),s?(0,r.jsxs)("div",{className:"summary",children:[(0,r.jsx)("h3",{children:"Patient Summary"}),Object.entries(e).map((e=>{let[t,n]=e;return(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[t.replace(/([A-Z])/g," $1"),": "]})," ",n||"N/A"]},t)})),(0,r.jsx)("button",{onClick:()=>{c(!1)},children:"Edit Information"})]}):(0,r.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t=["firstName","lastName","dob","gender","phone","email","emergencyContactName","emergencyPhone"];for(let n of t)if(!e[n])return alert(`Please fill in the required field: ${n}`),!1;return!0})()){o(!0);try{const t=await fetch("http://localhost:5000/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.error||"Failed to save data");localStorage.setItem("patientReport",JSON.stringify(e)),c(!0),alert("Patient data submitted successfully!")}catch(n){console.error("Error sending data:",n),alert("Error submitting data.")}finally{o(!1)}}},children:[(0,r.jsx)("h3",{children:h[n]}),0===n&&(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("input",{type:"text",name:"firstName",value:e.firstName,onChange:d,placeholder:"First Name",required:!0}),(0,r.jsx)("input",{type:"text",name:"lastName",value:e.lastName,onChange:d,placeholder:"Last Name",required:!0}),(0,r.jsx)("input",{type:"date",name:"dob",value:e.dob,onChange:d,required:!0}),(0,r.jsxs)("select",{name:"gender",value:e.gender,onChange:d,required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Gender"}),(0,r.jsx)("option",{value:"Male",children:"Male"}),(0,r.jsx)("option",{value:"Female",children:"Female"})]}),(0,r.jsx)("input",{type:"text",name:"phone",value:e.phone,onChange:d,placeholder:"Phone Number",required:!0}),(0,r.jsx)("input",{type:"email",name:"email",value:e.email,onChange:d,placeholder:"Email",required:!0})]}),1===n&&(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("input",{type:"text",name:"bloodType",value:e.bloodType,onChange:d,placeholder:"Blood Type"}),(0,r.jsx)("input",{type:"number",name:"height",value:e.height,onChange:d,placeholder:"Height (cm)"}),(0,r.jsx)("input",{type:"number",name:"weight",value:e.weight,onChange:d,placeholder:"Weight (kg)"}),(0,r.jsx)("textarea",{name:"allergies",value:e.allergies,onChange:d,placeholder:"List any allergies"}),(0,r.jsx)("textarea",{name:"medications",value:e.medications,onChange:d,placeholder:"Current Medications"}),(0,r.jsx)("textarea",{name:"chronicConditions",value:e.chronicConditions,onChange:d,placeholder:"Chronic Conditions"})]}),2===n&&(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("input",{type:"text",name:"emergencyContactName",value:e.emergencyContactName,onChange:d,placeholder:"Contact Name",required:!0}),(0,r.jsx)("input",{type:"text",name:"emergencyRelationship",value:e.emergencyRelationship,onChange:d,placeholder:"Relationship"}),(0,r.jsx)("input",{type:"text",name:"emergencyPhone",value:e.emergencyPhone,onChange:d,placeholder:"Emergency Phone",required:!0}),(0,r.jsx)("input",{type:"text",name:"preferredHospital",value:e.preferredHospital,onChange:d,placeholder:"Preferred Hospital"})]}),(0,r.jsxs)("div",{className:"button-group",children:[n>0&&(0,r.jsx)("button",{type:"button",className:"prev-btn",onClick:()=>i(n-1),children:"Previous"}),n<h.length-1?(0,r.jsx)("button",{type:"button",className:"next-btn",onClick:()=>i(n+1),children:"Next"}):(0,r.jsx)("button",{type:"submit",disabled:l,children:l?"Submitting...":"Submit"})]})]})]})}}}]);
//# sourceMappingURL=179.14c8971d.chunk.js.map